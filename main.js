/*
@title: Space Invaders
@author: 
@tags: []
@addedOn: 2024-00-00
*/

const player = "p"
const Mob1 = "1"
const Mob2 = "2"
const Boss = "b"
const Background = "B"


setLegend(
  [ player, bitmap`
.......44.......
.......44.......
.......44.......
.......44.......
.......44.......
4444444444444444
4444444444444444
4444444444444444
................
................
................
................
................
................
................
................` ],
  [Mob1, bitmap`
................
................
................
.....222222.....
.....23..32.....
.....2....2.....
.....222222.....
....22422422....
....2.4..4.2....
..222......222..
..2..........2..
..2..........2..
..2..........2..
................
................
................`],
  [Mob2, bitmap`
................
........2.......
........2.......
........2.......
........2.......
.....3322233....
.....3322233....
2222222222222222
.....2222222....
.....2222222....
.....2222222....
........2.......
........2.......
........2.......
........2.......
................`],
  [Boss,bitmap`
................
.....333333.....
....33333333....
...3333333333...
..333333333333..
.33333333333333.
3333333333333333
3333333333333333
.33..........33.
.33..........33.
................
................
................
................
................
................`],
  [Background, bitmap`
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000
0000000000000000`]
)

setBackground(Background)

setSolids([player,Mob1])

let Stage = 1
const Stages = [
  map``,
  map`
......
..b...
222222
111111
111111
......
......
...p..`
]

setMap(Stages[Stage])

setPushables({
  [ player ]: []
})

onInput("s", () => {
  getFirst(player).y += 1
})
onInput("w", () => {
  getFirst(player).y -= 1
})
onInput("a", () => {
  getFirst(player).x -= 1
})
onInput("d", () => {
  getFirst(player).x += 1
})

afterInput(() => {
  
})